# pgsql-intro

PostgreSQL — это одна из самых распространенных реляционная база данных с открытым исходным кодом, и в ее описании указано — «самая передовая база данных в мире».

Основные качества PostgreSQL:

- высокая стабильность,
- масштабируемость,
- безопасность,
- а также все функции, предоставляемые enterprise базами данных, такими как Oracle.

PostgreSQL полностью совместим с принципами **ACID** и имеет прочную основу для обеспечения целостности данных и параллельной обработки запросов.

ACID — это аббревиатура свойств, используемая для обозначения того, что ядро базы данных обеспечивает:

- **A**tomicity (рус. "атомарность"),
- **C**onsistency (рус. "согласованность"),
- **I**solation (рус. "изоляция"),
- **D**urability (рус. "надежность").

Объяснение этих свойств:

- Атомарность означает, что сложная операция обрабатывается как одна инструкция, даже если она состоит из разных под-операций.
- Согласованность означает, что данные в базе данных всегда остаются актуальными между разными серверами и не повреждаются из-за частично выполненных операций.
- Изоляция позволяет базе данных обрабатывать параллельные запросы «правильным образом», то есть без повреждения данных из-за чередующихся изменений.
- Надежность означает, что механизм базы данных должен защищать содержащиеся в нем данные даже в случае сбоев программного и аппаратного обеспечения, насколько это возможно.

## Установка Postgres

Как и `nginx`, `postgres` можно установить через `apt`:

```bash
sudo apt install postgresql
```

Скачается не самая актуальная версия базы данных, а та которая встроена в стандартный пакет Ubuntu.
Например на Ubuntu 18.04 скачается PostgreSQL 10, однако на данный момент самой последней версией является 14.

Чтобы скачать последнюю версию `postgres`, нужно добавить официальный репозиторий и его ключ:

```bash
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
```

Обновить репозитории `apt` и скачать `postgresql`:

```bash
sudo apt-get update
sudo apt-get -y install postgresql
```

Запустите сервис:

```bash
sudo service postgresql start
```

Чтобы зайти в БД нужно подключиться через `psql`:

```bash
sudo -iu postgres psql
```

## Postgres in Docker

Postgres для локального тестирования или разработки можно запустить в докер контейнере - так удобнее, быстрее
и в любой момент можно почистить систему от развернутой базы данных.

- [Ссылка образ `postgres` с документацией](https://hub.docker.com/_/postgres)
