# docker-commands

В предыдущем задании были вызваны команды:

```
docker run -d --name jsn-dkr-run -p 8888:80 nginx:mainline
docker ps
docker stop jsn-dkr-run
docker ps -a
```

Команда `docker` - это интерфейс Docker CLI (англ. _"**C**ommand **L**ine **I**nterface"_).

Команда `docker` отправляет запросы на Docker REST API, который запускает системные вызовы к
Docker Daemon.

Docker CLI имеет много команд для управления контейнерами, например:

| Команда | Описание                    |
| ------- | --------------------------- |
| run     | Запуск нового контейнера    |
| ps      | Перечислить контейнеры      |
| build   | Сборка образа из Dockerfile |
| images  | Перечислить образы          |
| restart | Перезагрузить контейнеры    |
| rm      | Удалить контейнеры          |

Для каждой команды можно вывести справку. Для этого нужно добавить флаг `--help` в конце команды.
Справка выведет все разрешенные флаги и аргументы. Для подробной информации обратитесь к
[официальной документации](https://docs.docker.com/engine/reference/run/).

### Разбор команд

```bash
docker run -d --name jsn-dkr-run -p 8888:80 nginx:mainline
```

В данном вызове используется команда `docker run`. Она отвечает за запуск контейнеров и имеет много параметров, которые управляют каждым аспектом запуска контейнера.

Рассмотрим использованные параметры:

<table>
<tr>
    <th>Параметр</th>
    <th>Описание</th>
</tr>
<tr>
    <td>-d</td>
    <td>
        Название флага исходит от слова "detach", в переводе "отделяться".<br>
        Контейнер запускается на фоне. Без этого флага, контейнер будет показывать логи<br>
        программы и мы не сможем делать другие действия.
    </td>
</tr>
<tr>
    <td>--name jsn-dkr-run</td>
    <td>
        Параметр устанавливает имя контейнера.<br>
        Если этот флаг не задан, то Docker подберет рандомное имя.
    </td>
</tr>
<tr>
    <td>-p 8888:80</td>
    <td>
        Название флага исходит от слова "publish", в переводе "публиковать".<br>
        Параметр отвечает за сопоставление портов (англ. "port mapping").<br>
        Это используется для доступа к сервисам внутри контейнера.<br>
        Когда мы делаем запрос на 8888 порт, то Docker перенаправляет запрос<br>
        на 80 порт внутрь контейнера.
    </td>
</tr>
<tr>
    <td>nginx:mainline</td>
    <td>
        Имя образа контейнера и его тег.<br>
        Запускаем образ nginx c тегом mainline.
    </td>
</tr>
</table>

```bash
docker ps -a
```

Команда `docker ps` перечисляет запущенные контейнеры. Она показывает информацию по каждому контейнеру:
id контейнера, имя, запущенный образ, порты и многое другое.

<table>
<tr>
    <th>Параметр</th>
    <th>Описание</th>
</tr>
<tr>
    <td>-a</td>
    <td>
        Название флага исходит от слова "all", в переводе "все".<br>
        Перечисляет все контейнеры в системе, в том числе и остановленные.
    </td>
</tr>
</table>

В данном уроке, была разобрана только часть команд Docker. В следующих познакомимся с другими.
